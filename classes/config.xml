<?xml version="1.0" encoding="UTF-8"?>

<module configVersion="1.2">

	<!-- Module Properties -->
	<id>registrationcore</id>
	<name>Registration Core Module</name>
	<version>1.9.0-SNAPSHOT</version>
	<package>org.openmrs.module.registrationcore</package>
	<author>OpenMRS Developers</author>
	<description>
		Provides core utilities and services for patient registration.
	</description>
	<updateURL>https://modules.openmrs.org/modules/download/registrationcore/update.rdf</updateURL>
	<require_version>1.11.3, 1.10.2 - 1.10.*, 1.9.9 - 1.9.*</require_version>
	<!-- / Module Properties -->

	
	<!-- Module Activator -->
	<activator>org.openmrs.module.registrationcore.RegistrationCoreActivator</activator>
    <require_modules>

    <require_module version="4.3">
        org.openmrs.module.idgen
    </require_module>
        <require_module version="2.3">
            org.openmrs.event
        </require_module>
    </require_modules>
    
    <aware_of_modules>
       <aware_of_module version="1.4">org.openmrs.module.namephonetics</aware_of_module>
       <aware_of_module>org.openmrs.module.legacyui</aware_of_module>
	</aware_of_modules>
	
	<!-- Global properties -->
	<globalProperty>
		<property>registrationcore.identifierSourceId</property>
		<defaultValue></defaultValue>
		<description>
			Specifies the identifier source to use when generating patient identifiers
		</description>
	</globalProperty>
	
	<globalProperty>
		<property>registrationcore.givenNameAutoSuggestList</property>
		<defaultValue></defaultValue>
		<description>
			A comma separated list of common names to auto suggest for the given name field, when registering patients.
		</description>
	</globalProperty>
	
	<globalProperty>
		<property>registrationcore.familyNameAutoSuggestList</property>
		<defaultValue></defaultValue>
		<description>
			A comma separated list of common names to auto suggest for the family name field, when registering patients.
		</description>
	</globalProperty>

    <globalProperty>
        <property>registrationcore.patientNameSearch</property>
        <defaultValue>registrationcore.BasicPatientNameSearch</defaultValue>
        <description>
            Specifies a bean used for the auto suggest name feature.
        </description>
    </globalProperty>
    
    <globalProperty>
        <property>registrationcore.fastSimilarPatientSearchAlgorithm</property>
        <defaultValue>registrationcore.BasicSimilarPatientSearchAlgorithm</defaultValue>
        <description>
            Specifies a bean used for the fast similar patient search algorithm.
        </description>
    </globalProperty>
    
    <globalProperty>
        <property>registrationcore.preciseSimilarPatientSearchAlgorithm</property>
        <defaultValue>registrationcore.BasicExactPatientSearchAlgorithm</defaultValue>
        <description>
            Specifies a bean used for the precise similar patient search algorithm.
        </description>
    </globalProperty>

	<globalProperty>
		<property>registrationcore.openempi.globalIdentifierDomainId</property>
		<defaultValue></defaultValue>
		<description>
			Specifies main identifier on MPI server (e.g. "xyz" for OpenEMPI) (GSOC OpenEMPI Specific Implementation)
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.implementation</property>
		<defaultValue></defaultValue>
		<description>
			Which MPI to should we connect to? Specify a Spring bean name, or leave blank to disable MPI integration. Options include:
			"registrationcore.mpi.implementation.PixPdq", "registrationcore.mpi.implementation.OpenEMPI".
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.url</property>
		<defaultValue></defaultValue>
		<description>
			Specifies url to MPI server. (GSOC OpenEMPI Specific Implementation)
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.openempi.enableProbabilisticMatching</property>
		<defaultValue>false</defaultValue>
		<description>
			Specifies if probability matching should be used (GSOC OpenEMPI Specific Implementation)
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.personIdentifierTypeUuid</property>
		<defaultValue>a5d38e09-efcb-4d91-a526-50ce1ba5011a</defaultValue>
		<description>
			Specifies UUID of the identifier type that is used as the Global Identifier Domain (GID) in the MPI.
			It is generated by the MPI and is persisted in OpenMRS.
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.local_mpi_identifierTypeMap.OpenEMPI ID</property>
		<defaultValue>a5d38e09-efcb-4d91-a526-50ce1ba5011a:2.16.840.1.113883.4.357:hl7</defaultValue>
		<description>
			Specifies the mapping from OpenEMPI Object ID (OID) to the local OpenMRS Application's identifier for OpenEMPI ID UUID.
			OpenEMPI ID is the default Global Identifier Domain (GID) for OpenEMPI but this can be changed.
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.local_mpi_identifierTypeMap.OpenMRS ID</property>
		<defaultValue>05a29f94-c0ed-11e2-94be-8c13b969e334:2.25.71280592878078638113873461180761116318:PI</defaultValue>
		<description>
			Specifies the mapping from OpenEMPI Object ID (OID) to the local OpenMRS Application's identifier for OpenMRS ID UUID.
			OpenMRS ID is the default generated identifier for OpenMRS but this can be changed.
		</description>
	</globalProperty>

	<!--<globalProperty>
		<property>registrationcore.local_mpi_identifierTypeMap.OpenMRS Remote ID</property>
		<defaultValue>81433852-3f10-11e4-adec-0800271c1b75:2.25.71280592878078638113873461180761116319:PI</defaultValue>
		<description>
			Specifies the mapping from OpenEMPI Object ID (OID) to the local OpenMRS Application's identifier for OpenMRS ID UUID.
			OpenMRS ID is the default generated identifier for OpenMRS but this can be changed. NOTE: THIS REPRESENTS ID'S
			GENERATED BY REMOTE SYSTEMS OR OTHER FACILITIES, MAPPING TO THE LOCAL OPENMRS APPLICATION'S IDENTIFIER FOR OPENMRS ID UUID
		</description>
	</globalProperty>-->

    <globalProperty>
        <property>registrationcore.biometrics.implementation</property>
        <defaultValue></defaultValue>
        <description>
            Which Biometrics engine implementation to should we connect to?
			Specify a Spring bean name, or leave blank to disable
        </description>
    </globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.pix.errorHandler.implementation</property>
		<defaultValue></defaultValue>
		<description>
			Specify a Spring bean name of PIX error handler service. It requires the xds-sender module and outgoing message
			exception module developed by SolDevelo. Set value to "outgoingmessageexceptions.PixErrorHandlingService" and
			install those two modules to enable pix error handling functionality.
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.pdq.errorHandler.implementation</property>
		<defaultValue></defaultValue>
		<description>
			Specify a Spring bean name of PDQ error handler service. It requires the xds-sender module and outgoing message
			exception module developed by SolDevelo. Set value to "outgoingmessageexceptions.PdqErrorHandlingService" and
			install those two modules to enable pix error handling functionality.
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.pdqEndpoint</property>
		<defaultValue>http://localhost:5001/pdq</defaultValue>
		<description>
			Specifies endpoint for Hl7 PDQ Message
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.pdqPort</property>
		<defaultValue>3600</defaultValue>
		<description>
			Specifies port for Hl7 PDQ Message
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.pixEndpoint</property>
		<defaultValue>http://localhost:5001/pix</defaultValue>
		<description>
			Specifies the endpoint for the Hl7 PIX Message
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.pixPort</property>
		<defaultValue>3700</defaultValue>
		<description>
			Specifies port for Hl7 PIX Message
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.Hl7implementation</property>
		<defaultValue>registrationcore.mpiHl7v2HttpSender</defaultValue>
		<description>
			Specifies which bean should be used to send the Hl7 Message. Current options are:
			"registrationcore.mpiHl7v2HttpSender", "registrationcore.mpiHl7v2MllpSender".
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.sendingApplication</property>
		<defaultValue>OpenMRS</defaultValue>
		<description>
			Specifies the sending application in the MSH header section of the HL7 message
		</description>
	</globalProperty>
	
	<globalProperty>
		<property>registrationcore.birthdateEstimationStartMonth</property>
		<defaultValue>0</defaultValue>
		<description>
			The month from which the birth date is estimated, with January having a value of 0
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.sendingFacility</property>
		<defaultValue></defaultValue>
		<description>
			Specifies sending Facility in the MSH header section of the HL7 message
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.receivingApplication</property>
		<defaultValue></defaultValue>
		<description>
			Specifies the receiving application in the MSH header section of the HL7 message
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.receivingFacility</property>
		<defaultValue></defaultValue>
		<description>
			Specifies sending Facility in the MSH header section of the HL7 message
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.pixIdentifierTypeUuidList</property>
		<defaultValue>05a29f94-c0ed-11e2-94be-8c13b969e334,a5d38e09-efcb-4d91-a526-50ce1ba5011a</defaultValue>
		<description>
			Specifies the list of identifiers to send in a PIX query to save the patient in the MPI. Takes a list of UUID of patient identifier types - separate them with commas.
			UUIDs can be found in the patient_identifier_type database table.
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.mpi.pdqIdentifierTypeUuidList</property>
		<defaultValue>05a29f94-c0ed-11e2-94be-8c13b969e334,a5d38e09-efcb-4d91-a526-50ce1ba5011a</defaultValue>
		<description>
			Specifies the list of identifiers to send in a PDQ query to get patient data from the MPI. Takes a list of UUID of patient identifier types - separate them with commas.
			UUIDs can be found in the patient_identifier_type database table.
		</description>
	</globalProperty>

	<globalProperty>
		<property>registrationcore.openmrsIdentifier.uuid</property>
		<description>
			UUID of the OpenMRS identifier that will be generated during MPI import unless it is present. By default set to the UUID of OpenMRS ID.
			Note: You have to have a Patient Identifier Source correctly configured and stored in the global property identifierSourceId
		</description>
		<defaultValue>05a29f94-c0ed-11e2-94be-8c13b969e334</defaultValue>
	</globalProperty>


	<!-- Maps hibernate file's, if present -->
	<mappingFiles>
				
		RegistrationEvent.hbm.xml
				
	</mappingFiles>

	<!-- Internationalization -->
	<!-- All message codes should start with registrationcore. -->
	<messages>
		<lang>en</lang>
		<file>messages.properties</file>
	</messages>
	<messages>
		<lang>fr</lang>
		<file>messages_fr.properties</file>
	</messages>
	<messages>
		<lang>es</lang>
		<file>messages_es.properties</file>
	</messages>
	<!-- /Internationalization -->

</module>

